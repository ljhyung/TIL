# 다중 쓰레드의 개념이 있는 이유

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fd00762b-b754-42b4-8cf0-473c5480f669/Untitled.png)

흔히들 말하는 main문이 메인 쓰레드에서 돌아가며

이 메인 쓰레드가 종료되면 모든 쓰레드 들은 종료된다.

# 프로세서당 돌아가는 방식

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/02a3bebe-5eed-4064-8f05-9c0c8def8519/Untitled.png)

- 싱글 코어 일때
  - 스레드가 하나 일때
  - 스레드가 여러개 일때
- 멀티 코어 일때
  - 코어 > 스레드 일때
  - 코어 < 스레드 일때

Q**.1** 스케줄링이 어떻게 이루어 지는가?

JVM이 스레딩을 지원한다고해서 HW에 직접 접근하는것이 아님

즉 HW사용 권한을 가진 SW인 운영체제가 JVM을 지원하는 개념이다.

따라서 JVM이 독자적으로 스케줄링 알고리즘을 가진것이 아닌

해당 운영체제의 스케줄링 방식에 종속된다

# 멀티쓰레드 구현

```java
class MyThread extends Thread {
    //    초기화부분
    int id;

    public MyThread(int id) {
        this.id = id;
    }
    @override
    public void run() {
        //수행할 코드
    }
}

public static void main(String[] args) {
    MyThread th1 = new MyThread(1);
    MyThread th2 = new MyThread(2);
    MyThread th3 = new MyThread(3);
    ...

    th1.start();
    th2.start();
    th3.start(); 
}

// 스레드 이름 설정 및 가져오기
th.setName("스레드 이름"); // 스레드의 이름 설정
th.getname(); // 스레드의 이름 받아오기

// 스레드의 상태 값 가져오기
th.getState();
```

# 생명 주기

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a5718061-6011-47aa-83e3-02d605ea0b16/Untitled.png)

# 장단점

- 장점
  - 각각 프로세서 입장에서 응답성이 좋음
  - 자원 효율적 사용 가능
- 단점
  - 구현이 힘들다.
  - 테스트 하기도 힘들다
  - 효율적으로 돌아가게 설계하기가 힘들다
  - os의 context switch보다 낫지만 여전히 cs에 의한 성능저하가 존재한다
  - 자원관리가 까다롭다(동기화 문제등으로)
  - 데드락이 발생할 수 있다.

# 사용법

# 면접 질문
