# static

static 이라는 키워드를 사용하여 **static 변수**와 **static 메소드**를 만들 수 있는데 다른말로 **정적 필드**와 **정적 메소드**라고 하며 이 둘을 합쳐 **정적 멤버**라고 한다.

정적 필드와 정적 메소드는 객체(인스턴스) 에 소속된 멤버가 아니라 클래스에 고정된 멤버이다.

그렇기에 클래스 로더가 클래스를 로딩해서 메소드 메모리 영역에 적재할 때 클래스별로 관리된다.

따라서 클래스의 로딩이 끝나는 즉시 바로 사용할 수 있다.

# static 멤버 생성

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f59b3f8f-7b32-4135-ab73-36caf421001f/Untitled.png)

static 키워드를 통해 생성된 정적멤버들은 static 영역에 할당된다.

static 영역에 할당된 메모리는 모든 객체가 공유하여 하나의 멤버를 어디서든지 참조할 수 있는 장점을 가지지만, garbage collector 의 관리 영역 밖에 존재하기때문에 프로그램 종료시까지 메모리가 할당된 채로 존재하게 된다.

→ static 을 너무 남발하는 경우 만들고자 하는 시스템 성능에 악영향을 줄 수 있다.

해제하려면 null 로 리퍼런스를 재선언한다.

# static 멤버 선언

필드나 메소드 생성 시 인스턴스로 생성할 것인지 정적으로 생성할 것인지에 대한 판단 기준

→ 공용으로 사용하느냐 아니냐

```java
static int num = 0; // 타입 필드 = 초기값
public static void static_method() {}; // static 리턴 타입 메소드
```

# static 필드 사용 예시

```java
class Number{
    static int num = 0; //클래스 필드
    int num2 = 0; //인스턴스 필드
}

public class Static_ex {

    public static void main(String[] args) {
        Number number1 = new Number(); //첫번째 number
        Number number2 = new Number(); //두번쨰 number

        number1.num++; //클래스 필드 num을 1증가시킴
        number1.num2++; //인스턴스 필드 num을 1증가시킴
        System.out.println(number2.num); //두번째 number의 클래스 필드 출력
        System.out.println(number2.num2); //두번째 number의 인스턴스 필드 출력
    }
}
```

```java
1
0
```

인스턴스 변수는 인스턴스가 생성될 때마다 생성되므로 인스턴스마다 각기 다른 값을 가지지만 정적 변수는 모든 인스턴스가 하나의 저장공간을 공유하기에 항상 같은 값을 가지기에 나타난 현상

# static 메서드 사용 예시

```java
class Name{
    static void print() { //클래스 메소드
    System.out.println("내 이름은 홍길동입니다.");
    }

    void print2() { //인스턴스 메소드
    System.out.println("내 이름은 이순신입니다.");
    }
}

public class Static_ex {

    public static void main(String[] args) {
        Name.print(); //인스턴스를 생성하지 않아도 호출이 가능

        Name name = new Name(); //인스턴스 생성
        name.print2(); //인스턴스를 생성하여야만 호출이 가능
    }
}
```

```java
내 이름은 홍길동입니다.
내 이름은 이순신입니다.
```

정적 메소드는 클래스가 메모리에 올라갈 때 정적 메소드가 자동적으로 생성된다.

그렇기에 정적 메소드는 인스턴스를 생성하지 않아도 호출할 수 있다. 정적 메소드는 유틸리티 함수를 만드는데 유용하게 사용된다.

### 유틸리티 클래스

유틸리티 클래스는 인스턴스 메서드와 인스턴스 변수를 일절 제공하지 않고, **정적 메서드와 변수만을 제공하는 클래스**를 뜻한다.

클래스의 본래 목적인 ‘데이터와 데이터 처리를 위한 로직의 캡슐화’ 를 실행하는 것이 아닌,
’비슷한 기능의 메서드와 상수를 모아서 캡슐화’ 한 것이 유틸리티 클래스이다.

유틸리티 메소드의 예시가 싱글톤패턴?

---

1. Static 키워드에 대해 설명해보세요.

static 키워드를 쓰면 객체를 생성하지 않고도 변수나 함수를 사용할 수 있습니다.

1. 왜 static 키워드를 쓰나요?

static이 붙은 멤버변수는 클래스가 메모리에 올라갈때 이미 자동적으로 생성되기 때문에 객체를 생성하지 않아도 되서 편리하고 속도가 빠릅니다.

1. 그렇다면 모든 변수와 함수에 static을 붙이는 것이 좋겠네요?

메서드의 작업 내용 중에서 인스턴스 변수를 필요로 한다면 static을 붙일 수 없습니다.

인스턴스 변수를 필요로 하지 않는다면, 가능하면 static을 붙이는 것이 좋습니다. 메서드 호출시간이 짧아지기 때문에 효율이 높아집니다. (static 을 붙이지 않은 메서드는 실행 시 호출되어야 할 메서드를 찾는 과정이 추가적으로 필요하기 때문에 시간이 더 걸립니다.)

1. 어떤 경우에 static 을 붙일 수 있고 어떤 경우에 static을 붙일 수 없습니까?

인스턴스를 생성하면, 각 인스턴스들은 서로 독립적이기때문에 서로 다른 값을 유지합니다. 경우에 따라서 각 인스턴스들이 공통적으로 같은 값이 유지되어야 하는 경우 static을 사용합니다.

1. 만일 당신이 새로운 클래스를 작성한다고 할 때, 어떤 경우에 static 키워드를 사용해야한다고 생각합니까?

먼저 클래스의 멤버 변수 중 모든 인스턴스에 공통된 값을 유지해야하는 것이 있는지 보고, 있으면 static을 붙여줍니다.

작성한 메서드 중에서 인스턴스 변수를 사용하지 않는 메서드에 대해서 static을 붙일 것을 고려합니다.

- 참고링크
  
  [[JAVA] static키워드 바로알기](https://rockdrumy.tistory.com/214)
