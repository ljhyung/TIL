# Thread 의 우선순위

많은 Thread 들이 동시에 수행이 된다면 자신이 원하는 결과를 얻지 못하고, 원치 않는 결과물이 나올 수 도 있다. 이럴 경우를 대비해서 자바에서는 Thread 간의 우선순위를 정해 혼란을 방지하고 먼저 수행되어야 할 Thread 와 그 이후에 수행되어야 할 Thread 를 정할 수 있다.

- 동시성
  - 멀티 작업을 위해 하나의 코어에서 멀티 스레드가 번갈아가면서 실행하는 성질
- 병렬성
  - 멀티 작업을 위해 멀티 코어에서 개별 스레드를 동시에 실행하는 성질

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/465275fa-b2d7-4b36-86dd-9b59b60d82ad/Untitled.png)

# 스레드 스케줄링

- 스레드의 갯수가 코어의 수 보다 많을 경우에 스레드를 어떤 순서에 의해 동시성으로 실행할 것인가에 대한 계획
- 아주 짧은 시간 스레드의 run 메소드를 번갈아가면서 실행한다.

## 우선순위 (priority) 방식

- 우선 순위가 높은 스레드가 실행상태를 더 많이 가져감
- 객체에 우선순위를 부여하여 개발자가 제어 가능
- 1부터 10까지 우선순위, 높으면 먼저 실행

```java
thread.setPriority(우선순위);

//우선순위 상수
Thread.MAX_PRIORITY //(10)
Thread.NORM_PRIORITY //(5)
Thread.MIN_PRIORITY //(1)
```

- 우선순위가 높은 스레드가 실행기회를 더 많이 가지기 때문에 우선순위가 더 낮은 스레드보다 같은 작업이라도 빨리 끝낼 수 있다.
- 하지만 쿼드 코어일 경우 스레드가 4개 보다 적을 경우는 우선순위가 크게 영향을 미치지 못한다. 5개이상일때 우선순위 방식이 효과를 보게 된다.

## 순환 할당 (Round-robin) 방식

- 시간할당량(Time Slice)을 정해 하나의 스레드를 정해진 시간만큼만 실행하도록 하는 방식.
- JVM에 의해서 정해지기 때문에 코드로 제어 불가능

# 면접 질문

1. Java Thread 란?
   
   - 답변
     
     일반 스레드와 거의 차이가 없으며, JVM 이 운영체제의 역할을 합니다. 자바에는 프로세스가 존재하지 않고 스레드만 존재하며, 자바 스레드는 JVM 에 의해 스케줄링되는 실행 단위 코드 블록입니다.

---

- 참고 링크
  
  [[Java] Thread#2, 스레드의 우선순위 개념 및 예제](https://sas-study.tistory.com/218)
